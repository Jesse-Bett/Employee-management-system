{% extends 'parent.html' %}
{% block content %}

<table class="table">
    <thead>
      <tr>
        <th scope="col">id</th>
        <th scope="col">month</th>
        
        <th scope="col">basic_salary </th>
        <th scope="col">benefits</th>
        <th scope="col">gross_salary</th>
        <th scope="col">taxable_income</th>
        <th scope="col">nssf_contribution</th>
    
        <th scope="col">nhif_contribution</th>
        <th scope="col">payee</th>
        <th scope="col">total_tax_payable</th>
        <th scope="col">net_salary</th>
        <th scope="col">Delete</th>
     
      </tr>
    </thead>
    <tbody>
      {% for detail in fetched_payroll%}
      <tr>
        <th scope="row">{{detail.id}}</th>
        <td>{{detail.month}}</td>
        
        <td>{{detail.basic_salary}}</td>
        <td>{{detail.benefits}}</td>
        <td>{{detail.gross_salary}}</td>
        <td>{{detail.taxable_income}}</td>
        <td>{{detail.nssf_contribution}}</td>
        <td>{{detail.nhif_contribution}}</td>
        <td>{{detail.payee}}</td>
        <td>{{detail.total_tax_payable}}</td>
        <td>{{detail.net_salary}}</td>
        <td><button type="submit" class="btn btn-dark" data-toggle="modal" data-target="#delete_id{{detail.id}}" >Delete</button></td>

      <!-- attaching modal to delet btn -->
      <div class="modal" id="delete_id{{detail.id}}" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">𝐜𝐨𝐧𝐟𝐢𝐫𝐦 𝐝𝐞𝐥𝐞𝐭𝐞 {{detail.id}} </h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form action="" method="">
                <p>𝐜𝐨𝐧𝐟𝐢𝐫𝐦 𝐝𝐞𝐥𝐞𝐭𝐞 payroll for month {{detail.month}} for employee: {{detail.employee__.employee_name}} </p>
                <a href='/payroll/delete/{{detail.id}}' type="btn" class="btn btn-danger">Delete</a>
              </form>
            </div>

          </div>
        </div>
      </div>
        
        
      </tr>
      {% endfor %}

    </tbody>
  </table>


{% endblock %}